import * as React from "react";
import DialogF from "./DialogF";
import PersonDWhiteBorder from "./PersonDWhiteBorder";

interface IPersonDState {
  isHover: boolean;
  isShowingDialog: boolean;
  isHidingDialog: boolean;
  dialogX: number;
  dialogY: number;
}

class PersonD extends React.Component<{}, IPersonDState> {
  constructor(props: {}) {
    super(props);
    this.state = {
      isHover: false,
      isShowingDialog: false,
      isHidingDialog: false,
      dialogX: 0,
      dialogY: 0
    };
    this.onMouseEnterHandler = this.onMouseEnterHandler.bind(this);
    this.onMouseMoveHandler = this.onMouseMoveHandler.bind(this);
    this.onMouseLeaveHandler = this.onMouseLeaveHandler.bind(this);
  }

  public render() {
    return (
      <div className="personD-wrapper">
        <svg
          className="personD"
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
          x="0px"
          y="0px"
          viewBox="0 0 282.5 509.5"
        >
          {this.state.isHover ? <PersonDWhiteBorder /> : null}}
          <a
            onMouseMove={this.onMouseMoveHandler}
            onMouseEnter={this.onMouseEnterHandler}
            onMouseLeave={this.onMouseLeaveHandler}
          >
            <g id="&#x76AE;&#x819A;">
              <path
                fill="#F3C991"
                d="M231.668,124.178c-7.781,4.4-16.761,6.91-26.341,6.91c-28.8,0-52.3-22.72-53.54-51.22
		c12.471-3.82,26.7-2.391,26.7-2.391c-1.88-5.3-1.021-19.6,5.74-25.54c1.409-1.26,3.09-2.14,5.05-2.489
		c6.18-1.11,9.689,4.64,9.689,11.77c0,3.18-0.699,6.63-2.17,9.87L231.668,124.178z"
              />
              <path
                fill="#F3C991"
                d="M64.267,341.197c-0.42,6.28-0.81,12.62-1.16,19l-6.22-0.08l-8.36-0.109l-8.63-0.12l-8.48-0.11
		l-7.72-0.1c0.68-12.811,1.5-25.45,2.45-37.75c0.59,1.62,3.25,7.55,10.56,8.67c10.48,1.61,6.29,8.29,17.33,11.36
		C57.667,342.968,61.188,342.397,64.267,341.197z"
              />
              <path
                fill="#F3C991"
                d="M217.807,295.678c0,9.14-1.289,12.58-4.279,12.26c-1.16-0.12-2.07-0.5-2.811-1.1
		c0.09,7.91-2.959,20.06-8.549,18.899c-1.031-0.21-1.701-0.699-2.091-1.42c0,0-1.6,3.8-5.36,2.74c-0.97-0.27-1.619-0.75-2.01-1.42
		c0,0-1.949,2.189-4.689,1.08c-1.25-0.5-1.99-1.38-2.28-2.771c0,0-1.14,1.341-3.55,0.761c-1.53-0.36-3.69-2.03-3.311-6.32
		c0.301-3.47,1.271-9.54-1.859-15.39c-2.801-5.25-2.91-9.25-2.04-23.11c0.31-5.061,0.93-27.26,1.6-53.87c0,0,2.08,4.5,6.87,4.14
		c9.49-0.699,5.71-13.47,14.03-19.35c6.489-4.58,2.27-10.27,7.84-15.25c-0.05,25.23-1.06,43.02-1.08,55.96
		c-0.01,8.33,0.25,12.76,3.19,16.9C212.188,275.098,217.807,283.147,217.807,295.678z"
              />
            </g>
            <path
              id="&#x6DF1;&#x982D;&#x9AEE;"
              fill="#3B3631"
              d="M178.487,77.478c0,0-14.229-1.43-26.7,2.391
	c-0.04-0.79-0.06-1.59-0.06-2.391c0-17.439,8.319-32.93,21.22-42.72l11.28,17.18C177.467,57.878,176.607,72.178,178.487,77.478z"
            />
            <g id="&#x6DFA;&#x982D;&#x9AEE;">
              <path
                fill="#9B8569"
                d="M265.918,101.338c-10.101,16.96-32.211,25.95-32.211,25.95l-2.039-3.11l-34.871-53.09
		c1.471-3.24,2.17-6.69,2.17-9.87c0-7.13-3.51-12.88-9.689-11.77c-1.96,0.35-3.641,1.229-5.05,2.489l-11.28-17.18l-2.62-3.979
		c0,0,9.47-10.98,27.479-17.16c18.41-6.34,36.17-0.851,46.08,12.22c9.131,12.04,7.061,23.479,7.061,23.479s11.221,1.94,16.66,13.421
		C271.178,70.278,273.827,88.038,265.918,101.338z"
              />
            </g>
            <g id="&#x978B;&#x5B50;">
              <path
                fill="#636466"
                d="M184.668,498.577H60.877l-0.33-16.93l-0.16-8.17l8.56-3.37l9.19-3.62l9.86-3.88l10.26-4.04
		l4.36-1.72c1.15-0.43,2.77-1.01,4.51-1.31v-0.011c1.33-0.229,2.73-0.3,4.06-0.05c0.47,0.09,0.93,0.22,1.37,0.4
		c5.02,2.01,10.13,10.33,19.51,12.16c7.44,1.46,35.39,0.17,35.39,0.17c13.43,1.09,16.51,3.859,17.211,14.399
		C185.367,493.147,184.668,498.577,184.668,498.577z"
              />
              <path
                fill="#636466"
                d="M60.547,481.647h-38.67l-0.44-22.74v-0.069l8.31-3.271l8.6-3.38l8.32-3.28l8.2-3.22l5.51-2.17
		c-0.09,10.11-0.09,20.13,0.01,29.96L60.547,481.647z"
              />
            </g>
            <g id="&#x978B;&#x5B50;2">
              <path
                fill="#535356"
                d="M167.457,468.208c0,0-27.949,1.29-35.39-0.17c-9.38-1.83-14.49-10.15-19.51-12.16
		c-0.44-0.181-0.9-0.311-1.37-0.4c1.47-1.05,2.859-1.979,4.17-2.8c2.7-1.69,5.09-2.93,7.33-3.76c0.31-0.11,0.609-0.23,0.91-0.33
		c1.96-0.65,4.039-0.69,9.08,3.81C139.027,458.058,153.047,467.038,167.457,468.208z"
              />
            </g>
            <g id="&#x978B;&#x5B50;3">
              <path
                fill="#A7ADB6"
                d="M115.766,465.816c-1.059-0.93,0.297-2.803,2.189-4.159c4.215-3.02,7.356-4.361,10.002-5.317
		c4.277-1.545,8.379-1.897,9.472-1.569c0.775,0.233,1.267,1.371,0.34,1.629c-2.122,0.59-4.521,1.076-6.997,2.104
		c-3.1,1.285-7.809,3.926-10.822,6.1C118.553,465.609,116.963,466.868,115.766,465.816z"
              />
              <path
                fill="#A7ADB6"
                d="M157.496,466.243c0.688-0.018,0.44-1.11-0.934-1.368c-1.604-0.3-3.585-0.212-6.068,1.18
		c-2.096,1.174-4.43,3.722-5.534,6.467c-0.798,1.983-0.493,3.38,0.534,3.484c1.712,0.175,1.797-1.354,2.663-2.768
		c1.165-1.899,2.912-4.197,4.737-5.392C154.825,466.583,156.654,466.264,157.496,466.243z"
              />
              <path
                fill="#A7ADB6"
                d="M145.629,461.396c0.688-0.018,0.263-1.249-1.122-1.445c-1.662-0.236-3.71,0.102-6.233,1.434
		c-2.622,1.384-6.508,4.857-8.104,7.35c-1.118,1.746-0.672,2.928,0.503,3.251c1.389,0.382,2.649-1.553,3.695-2.84
		c2.087-2.567,4.836-4.951,6.661-6.146C142.959,461.735,144.787,461.416,145.629,461.396z"
              />
            </g>
            <g id="&#x4E0B;&#x5C64;&#x6050;&#x61FC;">
              <path
                fill="#5B81B6"
                d="M66.847,307.518c-0.66,7.56-1.28,15.26-1.84,23.08c-0.26,3.51-0.51,7.05-0.74,10.6
		c-3.08,1.2-6.6,1.771-10.23,0.761c-11.04-3.07-6.85-9.75-17.33-11.36c-7.31-1.12-9.97-7.05-10.56-8.67
		c0.32-4.17,0.66-8.311,1.01-12.39c6.73,0.43,21.05,0.979,32.72-0.91C62.097,308.268,64.427,307.897,66.847,307.518z"
              />
              <path
                fill="#5B81B6"
                d="M205.327,194.058c0,0.5,0,1.01-0.01,1.5c-5.57,4.98-1.351,10.67-7.84,15.25
		c-8.32,5.88-4.54,18.65-14.03,19.35c-4.79,0.36-6.87-4.14-6.87-4.14c0.31-12.63,0.64-26.26,0.95-39.52h27.73
		C205.307,188.988,205.327,191.518,205.327,194.058z"
              />
            </g>
            <g id="&#x4E0A;&#x5C64;&#x76AE;&#x819A;_1_">
              <path
                fill="#F3C991"
                d="M118.527,330.628c-4.46,0.27-5.18,15.97-9.79,16.01c-3.64,0.04-3.81-5.47-6.81-5.36
		c-3.29,0.12-3.88,11.271-11.71,12.891c-7.56,1.56-14.39-1.5-7.87-13.49c4.26-7.84-0.43-17.12-4.32-17.13
		c-3.32,0-3.5,6.319-7.58,8.359c-3.7,1.841-5.44-1.31-5.44-1.31c-0.26,3.51-0.51,7.05-0.74,10.6c-0.42,6.28-0.81,12.62-1.16,19
		c-0.24,4.181-0.46,8.391-0.66,12.601l8.79-0.69l8.51-0.66l8.25-0.649l8.26-0.641l8.25-0.649l8.27-0.641l6.609-0.52
		C118.987,355.808,118.697,343.188,118.527,330.628z M76.647,362.558c-1.19,0.24-2.32-0.06-3.4-0.71c-1.53-0.91-3.5,0.05-4.35-2.3
		c-0.65-1.79,0.64-2.76,0.14-4.87c-0.37-1.59-0.58-3.38-0.59-5.32c-0.01-3.24,2.16-3.649,2.16-3.649c0.4-1.61,1.7-4.11,4.23-3.7
		c2.85,0.46,2.69,4.28,2.4,6.18c-0.57,3.63,0.95,6.19,1.69,7.53C80.817,359.147,79.177,362.038,76.647,362.558z"
              />
              <path
                id="&#x4E0A;&#x5C64;&#x76AE;&#x819A;"
                fill="#F3C991"
                d="M181.027,266.487c-1.721,24.58-3.1,40.98-3.85,47.67
		c-1.2,10.71-3.07,16.44-7.381,16.44c-5.189,0-4.459-7.26-4.25-8.78c-2.449,3.54-5.39,6.75-8.83,9.49
		c-3.539,2.82-8.789,3.2-10.899,0.87c-2.66,1.59-5.33,2.229-7.591,1.189c-2.149-0.979-2.34-3.14-2.35-3.739
		c-1.43,0.26-2.789,0.04-4.02-0.801c-1.87-1.279-1.53-3.8-1.4-4.46c-1.66,0.601-3.189,0.511-4.39-0.619
		c-1.87-1.761-1.28-4.45,1.53-7.5c2.869-3.12,3.859-7.58,4.06-11.24c0.5-8.9,3.319-14.25,5.47-17.75c2.35-3.83,4.37-4.98,5.26-12.58
		c0.891-7.601,2.57-73.83,2.57-73.83c2.12-0.14,4.82-0.4,7.94-0.7c0,0,0.71,6.841,4.739,12.16c4.42,5.83,6.91,7.99,5.92,16.5
		c-0.729,6.18-4.789,12.24-1.979,18.56c2.66,6.021,7.771,4.95,10.36,7.511C175.717,258.617,174.047,265.458,181.027,266.487z"
              />
            </g>
            <g id="&#x8863;&#x670D;3">
              <path
                fill="#A7ADB6"
                d="M56.887,360.117l-8.36-0.109l-8.63-0.12l-8.48-0.11l-7.72-0.1c-1.77,33.04-2.58,67.149-2.26,99.16
		l8.31-3.271l8.6-3.38l8.32-3.28l8.2-3.22l5.51-2.17c0.21-23.34,0.92-47.22,2.07-70.72c0.2-4.21,0.42-8.42,0.66-12.601
		L56.887,360.117z"
              />
              <path
                fill="#9399A1"
                d="M29.987,229.468l-5.81,69.43H9.927c2.21-37.58,12.13-86.7,12.13-86.7
		C23.497,218.697,26.067,224.558,29.987,229.468z"
              />
            </g>
            <g id="&#x8863;&#x670D;2">
              <path
                fill="#A7ADB6"
                d="M120.668,222.718c-1.551,25.24-2.271,53.03-2.301,81.67c-12.83-2.37-34.26,0.43-51.52,3.13
		c-2.42,0.38-4.75,0.75-6.97,1.11c-15.84,2.56-36.57,0.63-36.57,0.63l0.87-10.36l5.81-69.43c-3.92-4.91-6.49-10.771-7.93-17.271
		c-1.581-7.159-1.78-15.109-0.87-23.439c0,0,7.61,17.079,37.96,22.48c7.63,1.359,21.66,1.259,34.08,2.93
		C104.347,215.657,114.678,219.607,120.668,222.718z"
              />
              <path
                fill="#A7ADB6"
                d="M119.387,368.348l-6.609,0.52l-8.27,0.641l-8.25,0.649l-8.26,0.641l-8.25,0.649l-8.51,0.66
		l-8.79,0.69c-1.15,23.5-1.86,47.38-2.07,70.72c-0.09,10.11-0.09,20.13,0.01,29.96l8.56-3.37l9.19-3.62l9.86-3.88l10.26-4.04
		l4.36-1.72c1.15-0.43,2.77-1.01,4.51-1.31v-0.011c1.33-0.229,2.73-0.3,4.06-0.05c1.47-1.05,2.859-1.979,4.17-2.8
		c2.7-1.69,5.09-2.93,7.33-3.76c0.31-0.11,0.609-0.23,0.91-0.33C121.707,423.218,120.268,395.978,119.387,368.348z"
              />
              <path
                fill="#E7E3E3"
                d="M204.907,176.388h-27.14c0.779-33.689,1.41-62.51,1.41-62.51l21.27,16.99
		C200.447,130.868,203.717,151.088,204.907,176.388z"
              />
              <path
                fill="#9399A1"
                d="M205.258,186.498h-27.73c0.08-3.4,0.16-6.78,0.24-10.11h27.14
		C205.057,179.678,205.178,183.058,205.258,186.498z"
              />
              <path
                fill="#E7E3E3"
                d="M82.297,305.317c-2.92,0.36-5.82,0.76-8.66,1.17c-0.95-27.819,1.21-93.869,1.21-93.869
		c2.56,0.149,5.23,0.3,7.93,0.509C82.657,213.478,80.958,280.968,82.297,305.317z"
              />
            </g>
            <g id="&#x8863;&#x670D;">
              <path
                fill="#E7E3E3"
                d="M186.137,185.357c-6.85-1.56-14.619-1.72-21.34-1.31c-4.699,0.28-8.89,0.84-11.899,1.39
		c-8.16,1.48-17.78,1.061-17.78,1.061v-6.79c0,0-6.22,5.96-10.13,11.84c-4.58,6.899-5.53,11.579-5.58,11.829
		c0,0.011,0,0.011,0,0.011c2.431,2.57,2.19,4.21,2.14,6.37c-0.32,4.239-0.609,8.56-0.879,12.96c-5.99-3.11-16.321-7.061-27.44-8.55
		c-12.42-1.671-26.45-1.57-34.08-2.93c-30.35-5.401-37.96-22.48-37.96-22.48c2.47-22.64,13.09-48.08,26.21-68.33
		c38.77-59.88,93.44-55.58,114.479-37.31C188.457,106.218,188.617,140.038,186.137,185.357z"
              />
              <path
                fill="#A7ADB6"
                d="M186.137,185.357c-0.199,3.46-0.399,6.99-0.609,10.58c-0.061,1.08-0.13,2.15-0.18,3.21
		c-7.01-0.55-14.11-0.39-20.551,0.021v-15.12C171.518,183.638,179.287,183.798,186.137,185.357z"
              />
              <path
                fill="#9399A1"
                d="M164.797,184.048v15.12c-4.35,0.26-8.39,0.64-11.899,0.979c-3.12,0.3-5.82,0.561-7.94,0.7
		c-6.539,0.41-9.84-0.9-9.84-0.9v-13.449c0,0,9.62,0.42,17.78-1.061C155.907,184.888,160.098,184.328,164.797,184.048z"
              />
            </g>
            <g id="&#x4E0A;&#x5C64;&#x6050;&#x61FC;">
              <path
                fill="#5B81B6"
                d="M118.527,330.628c-4.46,0.27-5.18,15.97-9.79,16.01c-3.64,0.04-3.81-5.47-6.81-5.36
		c-3.29,0.12-3.88,11.271-11.71,12.891c-7.56,1.56-14.39-1.5-7.87-13.49c4.26-7.84-0.43-17.12-4.32-17.13
		c-3.32,0-3.5,6.319-7.58,8.359c-3.7,1.841-5.44-1.31-5.44-1.31c0.56-7.82,1.18-15.521,1.84-23.08c17.26-2.7,38.69-5.5,51.52-3.13
		C118.357,313.067,118.418,321.827,118.527,330.628z"
              />
              <path
                fill="#5B81B6"
                d="M76.647,362.558c-1.19,0.24-2.32-0.06-3.4-0.71c-1.53-0.91-3.5,0.05-4.35-2.3
		c-0.65-1.79,0.64-2.76,0.14-4.87c-0.37-1.59-0.58-3.38-0.59-5.32c-0.01-3.24,2.16-3.649,2.16-3.649c0.4-1.61,1.7-4.11,4.23-3.7
		c2.85,0.46,2.69,4.28,2.4,6.18c-0.57,3.63,0.95,6.19,1.69,7.53C80.817,359.147,79.177,362.038,76.647,362.558z"
              />
              <path
                fill="#5B81B6"
                d="M185.348,199.147c-1.561,26.521-3.041,49.17-4.32,67.34c-6.98-1.029-5.311-7.87-9.09-11.609
		c-2.59-2.561-7.7-1.49-10.36-7.511c-2.81-6.319,1.25-12.38,1.979-18.56c0.99-8.51-1.5-10.67-5.92-16.5
		c-4.029-5.319-4.739-12.16-4.739-12.16c3.51-0.34,7.55-0.72,11.899-0.979C171.237,198.758,178.338,198.598,185.348,199.147z"
              />
            </g>
          </a>
        </svg>
        <DialogF
          isShowDialog={this.state.isShowingDialog}
          dialogX={this.state.dialogX}
          dialogY={this.state.dialogY}
        />
      </div>
    );
  }

  private onMouseEnterHandler(event: React.MouseEvent<HTMLElement>): void {
    this.setState({
      isHover: true,
      isShowingDialog: true,
      isHidingDialog: false
    });
  }

  private onMouseMoveHandler(event: React.MouseEvent<HTMLElement>): void {
    this.setState({
      dialogX: event.nativeEvent.offsetX,
      dialogY: event.nativeEvent.offsetY
    });
  }

  private onMouseLeaveHandler(event: React.MouseEvent<HTMLElement>) {
    this.setState({
      isHover: false,
      isShowingDialog: false,
      isHidingDialog: true
    });
  }
}

export default PersonD;
